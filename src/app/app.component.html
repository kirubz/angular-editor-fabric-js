<div class="d-flex align-items-center justify-content-center h-100 w-100">
    <div id="canvasContainer">
        <angular-editor-fabric-js #canvas (updateActiveTool)="updateActiveTool($event)"></angular-editor-fabric-js>
    </div>
</div>

<div style="position: absolute; top: 10px; left: 10px;" class="d-flex align-items-start flex-column">
    <div class="btn-group-vertical mb-2" id="drawingTool">
        <button id="select" class="btn btn-primary" [ngClass]="{'active': activeTool === 'select'}" title="Select" (click)="drawingTool($event)">
            <svg style="pointer-events: none;" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve" width="24" height="24">
                <path  fill="#fff" stroke="none" d="M423.547,323.115l-320-320c-3.051-3.051-7.637-3.947-11.627-2.304s-6.592,5.547-6.592,9.856V480 c0,4.501,2.837,8.533,7.083,10.048c4.224,1.536,8.981,0.192,11.84-3.285l85.205-104.128l56.853,123.179 c1.792,3.883,5.653,6.187,9.685,6.187c1.408,0,2.837-0.277,4.203-0.875l74.667-32c2.645-1.131,4.736-3.285,5.76-5.973 c1.024-2.688,0.939-5.675-0.277-8.299l-57.024-123.52h132.672c4.309,0,8.213-2.603,9.856-6.592 C427.515,330.752,426.598,326.187,423.547,323.115z"></path>
            </svg>
        </button>
        <button id="draw" class="btn btn-primary" [ngClass]="{'active': activeTool === 'draw'}" title="Draw" (click)="drawingTool($event)">
            <svg style="pointer-events: none;" viewBox="0 -3 512 512" xml:space="preserve" width="24" height="24">
                <path fill="#fff" stroke="none" d="M 497.171875 86.429688 C 506.734375 76.867188 512 64.152344 512 50.628906 C 512 37.105469 506.734375 24.390625 497.171875 14.828125 C 487.609375 5.265625 474.894531 0 461.371094 0 C 447.847656 0 435.132812 5.265625 425.570312 14.828125 L 198.296875 242.105469 L 269.894531 313.703125 Z M 497.171875 86.429688 "></path>
                <path fill="#fff" stroke="none" d="M 65.839844 506.65625 C 92.171875 507.21875 130.371094 496.695312 162.925781 459.074219 C 164.984375 456.691406 166.894531 454.285156 168.664062 451.855469 C 179.460938 435.875 184.695312 418.210938 183.855469 400.152344 C 182.945312 380.5625 174.992188 362.324219 161.460938 348.796875 C 150.28125 337.613281 134.722656 331.457031 117.648438 331.457031 C 95.800781 331.457031 73.429688 341.296875 56.277344 358.449219 C 31.574219 383.152344 31.789062 404.234375 31.976562 422.839844 C 32.15625 440.921875 32.316406 456.539062 11.101562 480.644531 L 0 493.257812 C 0 493.257812 26.828125 505.820312 65.839844 506.65625 Z M 65.839844 506.65625"></path>
                <path fill="#fff" stroke="none" d="M 209.980469 373.621094 L 248.496094 335.101562 L 176.894531 263.503906 L 137.238281 303.160156 C 154.691406 306.710938 170.464844 315 182.859375 327.394531 C 195.746094 340.285156 205.003906 356.1875 209.980469 373.621094 Z M 209.980469 373.621094 "></path>
            </svg>
        </button>
        <button id="line" class="btn btn-primary" [ngClass]="{'active': activeTool === 'line'}" title="Line" (click)="drawingTool($event)">
            <svg style="pointer-events: none;" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve" width="24" height="24">
                <path fill="#fff" stroke="none" d="M349.091,0v124.516L124.516,349.091H0V512h162.909V387.484l224.574-224.574H512V0H349.091z M54.303,457.696v-54.303 h54.303v54.303H54.303z M457.696,108.605h-54.303V54.303h54.303V108.605z"></path>
            </svg>
        </button>
        <button id="rect" class="btn btn-primary" [ngClass]="{'active': activeTool === 'rect'}" title="Rectangle" (click)="drawingTool($event)">
            <svg x="0px" y="0px" viewBox="0 0 512 512" style="pointer-events: none;" xml:space="preserve" width="24" height="24">
                <path fill="#fff" stroke="none" d="m512 133.286v-98.857h-98.857v34.428h-314.286v-34.428h-98.857v98.857h34.429v245.429h-34.429v98.857h98.857v-34.428h314.286v34.428h98.857v-98.857h-34.429v-245.429zm-68.857-68.857h38.857v38.857h-38.857zm-413.143 0h38.857v38.857h-38.857zm38.857 383.142h-38.857v-38.857h38.857zm413.143 0h-38.857v-38.857h38.857zm-34.429-68.857h-34.428v34.429h-314.286v-34.429h-34.428v-245.428h34.428v-34.429h314.286v34.429h34.428z"/>
            </svg>
        </button>
        <button id="path" class="btn btn-primary" [ngClass]="{'active': activeTool === 'path'}" title="Path" (click)="drawingTool($event)">
            <svg style="pointer-events: none;" viewBox="28 55 140 140" xml:space="preserve" width="24" height="24">
                <path fill="#fff" stroke="none" d="m 28.386086,150.01543 v 43.10301 H 71.489092 V 178.7505 H 120.75466 V 164.38283 H 71.355237 L 71.488872,150.0086 H 57.121421 c 0,-49.247 14.367449,-63.614929 63.633239,-63.614929 v -14.36768 c -63.633239,0 -78.000906,28.735609 -78.000906,77.982609 l -14.367888,0.007 z m 14.367669,28.73507 v -14.36767 h 14.367668 v 14.36767 z" id="path840" style="stroke-width: 0.264583;"></path>
                <path fill="#fff" stroke="none" d="m 120.74975,150.00843 v 43.10301 h 43.10301 V 150.0016 l -43.10301,0.007 z m 14.36767,28.73507 v -14.36767 h 14.36767 v 14.36767 z" id="path840-1" style="stroke-width: 0.264583;"></path>
                <path fill="#fff" stroke="none" d="m 120.74975,57.658601 v 43.103009 h 43.10301 V 57.651771 l -43.10301,0.007 z m 14.36767,28.73507 v -14.36767 h 14.36767 v 14.36767 z" id="path840-1-0" style="stroke-width: 0.264583;"></path>
            </svg>
        </button>
        <button id="textbox" class="btn btn-primary" [ngClass]="{'active': activeTool === 'textbox'}" title="Text Box" (click)="drawingTool($event)">
            <svg style="pointer-events: none;" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve" width="24" height="24">
                <path fill="#fff" stroke="none" d="M497,90c8.291,0,15-6.709,15-15V15c0-8.291-6.709-15-15-15h-60c-8.291,0-15,6.709-15,15v15H90V15c0-8.401-6.599-15-15-15 H15C6.599,0,0,6.599,0,15v60c0,8.399,6.599,15,15,15h15v332H15c-8.291,0-15,6.709-15,15v60c0,8.291,6.709,15,15,15h60 c8.291,0,15-6.709,15-15v-15h332v15c0,8.399,6.599,15,15,15h60c8.401,0,15-6.601,15-15v-60c0-8.401-6.599-15-15-15h-15V90H497z  M452,422h-15c-8.401,0-15,6.599-15,15v15H90v-15c0-8.291-6.709-15-15-15H60V90h15c8.401,0,15-6.601,15-15V60h332v15 c0,8.291,6.709,15,15,15h15V422z"></path>
                <path fill="#fff" stroke="none" d="M361,105H151c-8.291,0-15,6.709-15,15v60c0,6.064,3.647,11.543,9.258,13.857c5.625,2.329,12.056,1.04,16.348-3.252 L187.211,165H226v176.459l-27.48,42.221c-3.062,4.6-3.354,10.518-0.747,15.396S205.463,407,211,407h90 c5.537,0,10.62-3.047,13.228-7.925c2.608-4.878,2.314-10.796-0.747-15.396L286,341.459V165h38.789l25.605,25.605 c4.307,4.307,10.781,5.596,16.348,3.252c5.61-2.314,9.258-7.793,9.258-13.857v-60C376,111.709,369.291,105,361,105z"></path>
            </svg>
        </button>
        <button id="zoomFit" class="btn btn-primary" title="Zoom Fit" (click)="zoomFit()">
            <svg style="pointer-events: none;" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve" width="24" height="24">
                <path fill="#fff" stroke="none" d="m145.96875 423.246094h-36.707031l84.6875-84.375-21.171875-21.253906-84.476563 84.164062v-36.203125h-30v87.667969h87.667969zm0 0"></path>
                <path fill="#fff" stroke="none" d="m366.03125 423.246094v30h87.667969v-87.667969h-30v36.203125l-84.476563-84.164062-21.171875 21.253906 84.6875 84.375zm0 0"></path>
                <path fill="#fff" stroke="none" d="m88.300781 110.21875 84.476563 84.164062 21.171875-21.253906-84.6875-84.375h36.707031v-30h-87.667969v87.667969h30zm0 0"></path>
                <path fill="#fff" stroke="none" d="m339.222656 194.382812 84.476563-84.164062v36.203125h30v-87.667969h-87.667969v30h36.707031l-84.6875 84.375zm0 0"></path>
                <path fill="#fff" stroke="none" d="m0 0v512h512v-512zm482 482h-452v-452h452zm0 0"></path>
            </svg>
        </button>
    </div>
    <div class="btn-group-vertical">
        <button title="Export to image" type="button" class="btn btn-primary" (click)="rasterize();">
            <svg width="24" height="24" x="0px" y="0px" viewBox="0 0 550.801 550.801" style="pointer-events: none" xml:space="preserve">
                <g fill="#fff">
                    <path d="M146.747,276.708c0-13.998-9.711-22.352-26.887-22.352c-6.99,0-11.726,0.675-14.204,1.355v44.927
                    c2.932,0.676,6.539,0.896,11.52,0.896C135.449,301.546,146.747,292.28,146.747,276.708z"/>
                    <path d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694
                        c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419
                        c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2
                        c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545
                        c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601
                        V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605
                        h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M234.344,335.86v45.831h-31.601V229.524h40.184
                        l31.611,55.759c9.025,16.031,18.064,34.983,24.825,52.154h0.675c-2.257-20.103-2.933-40.643-2.933-63.44v-44.473h31.614v152.167
                        h-36.117l-32.516-58.703c-9.049-16.253-18.971-35.892-26.438-53.727l-0.665,0.222C233.906,289.58,234.344,311.027,234.344,335.86z
                        M71.556,381.691V231.56c10.613-1.804,25.516-3.159,46.506-3.159c21.215,0,36.353,4.061,46.509,12.192
                        c9.698,7.673,16.255,20.313,16.255,35.219c0,14.897-4.959,27.549-13.999,36.123c-11.738,11.063-29.123,16.031-49.441,16.031
                        c-4.522,0-8.593-0.231-11.736-0.675v54.411H71.556V381.691z M453.601,523.353H97.2V419.302h356.4V523.353z M485.652,374.688
                        c-10.61,3.607-30.713,8.585-50.805,8.585c-27.759,0-47.872-7.003-61.857-20.545c-13.995-13.1-21.684-32.97-21.452-55.318
                        c0.222-50.569,37.03-79.463,86.917-79.463c19.644,0,34.783,3.829,42.219,7.446l-7.214,27.543c-8.369-3.617-18.752-6.55-35.458-6.55
                        c-28.656,0-50.341,16.256-50.341,49.22c0,31.382,19.649,49.892,47.872,49.892c7.895,0,14.218-0.901,16.934-2.257v-31.835h-23.493
                        v-26.869h56.679V374.688z"/>
                </g>
            </svg>
        </button>
        <button title="Export to SVG" type="button" class="btn btn-primary" (click)="rasterizeSVG();">
            <svg width="24" height="24" x="0px" y="0px" viewBox="0 0 550.801 550.801" style="pointer-events: none" xml:space="preserve">
                <g fill="#fff">
                    <path d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694
                        c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419
                        c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2
                        c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545
                        c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601
                        V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605
                        h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M338.871,225.672L284.545,386.96h-42.591
                        l-51.69-161.288h39.967l19.617,68.196c5.508,19.143,10.531,37.567,14.36,57.67h0.717c4.061-19.385,9.089-38.527,14.592-56.953
                        l20.585-68.918h38.77V225.672z M68.458,379.54l7.415-30.153c9.811,5.021,24.888,10.051,40.439,10.051
                        c16.751,0,25.607-6.935,25.607-17.465c0-10.052-7.662-15.795-27.05-22.734c-26.8-9.328-44.263-24.168-44.263-47.611
                        c0-27.524,22.971-48.579,61.014-48.579c18.188,0,31.591,3.823,41.159,8.131l-8.126,29.437c-6.465-3.116-17.945-7.657-33.745-7.657
                        c-15.791,0-23.454,7.183-23.454,15.552c0,10.296,9.089,14.842,29.917,22.731c28.468,10.536,41.871,25.365,41.871,48.094
                        c0,27.042-20.812,50.013-65.09,50.013C95.731,389.349,77.538,384.571,68.458,379.54z M453.601,523.353H97.2V419.302h356.4V523.353z
                        M488.911,379.54c-11.243,3.823-32.537,9.103-53.831,9.103c-29.437,0-50.73-7.426-65.57-21.779
                        c-14.839-13.875-22.971-34.942-22.738-58.625c0.253-53.604,39.255-84.235,92.137-84.235c20.81,0,36.852,4.073,44.74,7.896
                        l-7.657,29.202c-8.859-3.829-19.849-6.95-37.567-6.95c-30.396,0-53.357,17.233-53.357,52.173c0,33.265,20.81,52.882,50.73,52.882
                        c8.375,0,15.072-0.96,17.94-2.395v-33.745h-24.875v-28.471h60.049V379.54L488.911,379.54z"/>
                </g>
            </svg>
        </button>
        <button title="Clean Canvas" type="button" class="btn btn-danger" (click)="confirmClear();">
              <i class="fa fa-ban" aria-hidden="true"></i></button>
    </div>
</div>

<div style="position: absolute; right: 10px; top: 10px; width: 325px;">
    <div class="card mb-3">
        <div class="card-header">
            Canvas Size and Options
        </div>
        <div class="card-body p-2">
            <h6>Canvas Size</h6>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Width</label>
                        <input type="text" class="form-control" [(ngModel)]="canvas.size.width" (keyup)="changeSize()">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Height</label>
                        <input type="text" class="form-control" [(ngModel)]="canvas.size.height" (keyup)="changeSize()">
                    </div>
                </div>
            </div>
            <h6>Options</h6>
            <div class="btn-group">
                <button id="flip-h" title="Flip Horizontal" class="btn btn-secondary" (click)="objectOption($event)">
                    <svg width="24" height="24" style="pointer-events: none;" viewBox="0 0 16 20" xml:space="preserve">
                        <g transform="matrix(0 1.5365 1.5385 0 -5.0769 1.5495)" fill="#fff">
                            <rect x="5" y="8" width="1" height="1"></rect>
                            <rect x="7" y="8" width="1" height="1"></rect>
                            <rect x="9" y="8" width="1" height="1"></rect>
                            <rect x="1" y="8" width="1" height="1"></rect>
                            <rect x="3" y="8" width="1" height="1"></rect>
                            <path d="M 1,2 5.5,6 10,2 Z M 7.37,3 5.5,4.662 3.63,3 Z" ></path>
                            <polygon points="10 15 5.5 11 1 15"></polygon>
                        </g>
                    </svg>
                </button>
                <button id="flip-v" title="Flip Vertical" class="btn btn-secondary" (click)="objectOption($event)">
                    <svg  width="24" height="24" style="pointer-events: none;" viewBox="0 0 16 20" xml:space="preserve">
                        <g transform="matrix(1.5365 0 0 1.5385 -.45052 -3.0769)" fill="#fff">
                            <rect x="5" y="8" width="1" height="1"></rect>
                            <rect x="7" y="8" width="1" height="1"></rect>
                            <rect x="9" y="8" width="1" height="1"></rect>
                            <rect x="1" y="8" width="1" height="1"></rect>
                            <rect x="3" y="8" width="1" height="1"></rect>
                            <path d="M 1,2 5.5,6 10,2 Z M 7.37,3 5.5,4.662 3.63,3 Z"></path>
                            <polygon points="5.5 11 1 15 10 15"></polygon>
                        </g>
                    </svg>
                </button>
                <button id="bring-fwd" title="Send to Front" class="btn btn-secondary" (click)="objectOption($event)">
                    <svg width="24" height="24" x="0px" y="0px" viewBox="0 0 1000 1000" style="pointer-events: none;" xml:space="preserve">
                        <path d="M10,10h686v686H10V10 M990,304v686H304V794h98v98h490V402h-98v-98H990z" fill="#fff"></path>
                    </svg>
                </button>
                <button id="bring-back" title="Send to Back" class="btn btn-secondary" (click)="objectOption($event)">
                    <svg width="24" height="24" style="pointer-events: none;" viewBox="0 0 1e3 1e3" xml:space="preserve">
                        <path d="m990 990h-686v-686h686v686m-980-294v-686h686v680h-98v-582h-490v490h200v98z" fill="#fff"></path>
                        <rect x="108.44" y="108" width="490" height="490" fill="#6c757d"></rect>
                    </svg>
                </button>
                <button id="duplicate" title="Duplicate" class="btn btn-secondary" (click)="objectOption($event)">
                    <svg width="24" height="24" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve" style="pointer-events: none;">
                        <g fill="#fff">
                            <path d="M42.667,256c0-59.52,35.093-110.827,85.547-134.827V75.2C53.653,101.44,0,172.48,0,256s53.653,154.56,128.213,180.8 v-45.973C77.76,366.827,42.667,315.52,42.667,256z"></path>
                            <path d="M320,64c-105.92,0-192,86.08-192,192s86.08,192,192,192s192-86.08,192-192S425.92,64,320,64z M320,405.333 c-82.347,0-149.333-66.987-149.333-149.333S237.653,106.667,320,106.667S469.333,173.653,469.333,256 S402.347,405.333,320,405.333z"></path>
                            <polygon points="341.333,170.667 298.667,170.667 298.667,234.667 234.667,234.667 234.667,277.333 298.667,277.333 298.667,341.333 341.333,341.333 341.333,277.333 405.333,277.333 405.333,234.667 341.333,234.667  "></polygon>
                        </g>
                    </svg>
                </button>
                <button id="delete" title="Delete" class="btn btn-secondary" (click)="objectOption($event)">
                    <svg width="24" height="24" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve" style="pointer-events: none;">
                        <g fill="#fff">
                            <path d="M425.298,51.358h-91.455V16.696c0-9.22-7.475-16.696-16.696-16.696H194.855c-9.22,0-16.696,7.475-16.696,16.696v34.662 H86.704c-9.22,0-16.696,7.475-16.696,16.696v51.357c0,9.22,7.475,16.696,16.696,16.696h5.072l15.26,359.906 c0.378,8.937,7.735,15.988,16.68,15.988h264.568c8.946,0,16.302-7.051,16.68-15.989l15.259-359.906h5.073 c9.22,0,16.696-7.475,16.696-16.696V68.054C441.994,58.832,434.519,51.358,425.298,51.358z M211.551,33.391h88.9v17.967h-88.9 V33.391z M372.283,478.609H139.719l-14.522-342.502h261.606L372.283,478.609z M408.602,102.715c-15.17,0-296.114,0-305.202,0 V84.749h305.202V102.715z"></path>
                            <path d="M188.835,187.304c-9.22,0-16.696,7.475-16.696,16.696v206.714c0,9.22,7.475,16.696,16.696,16.696 c9.22,0,16.696-7.475,16.696-16.696V204C205.53,194.779,198.055,187.304,188.835,187.304z"></path>
                            <path d="M255.998,187.304c-9.22,0-16.696,7.475-16.696,16.696v206.714c0,9.22,7.474,16.696,16.696,16.696 c9.22,0,16.696-7.475,16.696-16.696V204C272.693,194.779,265.218,187.304,255.998,187.304z"></path>
                            <path d="M323.161,187.304c-9.22,0-16.696,7.475-16.696,16.696v206.714c0,9.22,7.475,16.696,16.696,16.696 s16.696-7.475,16.696-16.696V204C339.857,194.779,332.382,187.304,323.161,187.304z"></path>
                        </g>
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <div class="card mb-3">
        <div class="card-header">Add images</div>
        <div class="card-body mpax-height p-2">
            <img class="images-item" (click)="getImgPolaroid($event)" src="../assets/img/l-shaped-arrow.svg">
            <img class="images-item" (click)="getImgPolaroid($event)" src="../assets/img/single_arrow.svg">
            <img class="images-item" (click)="getImgPolaroid($event)" src="../assets/img/hazard_warning.svg">
            <img class="images-item" (click)="getImgPolaroid($event)" src="../assets/img/forward_and_right_arow.svg">
            <img class="images-item" (click)="getImgPolaroid($event)" src="../assets/img/right_arrow.svg">
            <img class="images-item" (click)="getImgPolaroid($event)" src="../assets/img/arrow-left-right.svg">
            <img class="images-item" (click)="getImgPolaroid($event)" src="../assets/img/arrow.svg">
        </div>
    </div>
    <div class="card">
        <div class="card-header">Upload image</div>
        <div class="card-body text-center">
            <img id="testImage" *ngIf="canvas.url" class="images-item-upload" [src]="canvas.url" (click)="addImageOnCanvas(canvas.url);">
            <input type="file" (change)="readUrl($event);" class="form-control">
            <br/>
            <br/>
            <div class="btn-group btn-group-justified" role="group" aria-label="...">
                <div class="btn-group" role="group">
                    <button type="button" class="btn btn-outline-danger btn-sm" (click)="removeWhite(canvas.url);">
                      <i class="fa fa-times" aria-hidden="true"></i> Remove</button>
                </div>
            </div>
        </div>
    </div>
</div>